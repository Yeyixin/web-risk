app.controller("indexController",["$scope","$rootScope","$http",function(e,t,n){e.firstName="John",e.lastName="Doe",console.log(e.lastName)}]),app.controller("addUserModalCtrl",["$scope","$http","$uibModal","$uibModalInstance","userService","SweetAlert",function(e,t,n,a,s,r){e.cancel=function(){a.dismiss("cancel")},e.title="添加人员",e.disabled=!1,e.companys={"公司-1":1,"公司-2":2,"公司-3":3},e.mycity="北京",e.Cities=[{id:1,name:"北京"},{id:2,name:"上海"},{id:3,name:"广州"}],e.companyNo=1,e.sex=0,e.submitForm=function(){if(e.submit_form.$valid){var t={username:e.username,userno:e.userno,companyNo:e.companyId,sex:e.sex,age:e.age,post:e.post,tel:e.tel,idcard:e.idcard,degrees:e.degrees,describ:e.describ,address:e.address};s.addUser(t).then(function(t){e.result=t,r.swal("操作成功","","success")},function(){r.swal("操作失败","","error")}),e.cancel()}else r.swal("操作失败","","error")}}]),app.controller("userController",["$scope","$http","$filter","$state","$stateParams","$uibModal","userService","SweetAlert",function(e,t,n,a,s,r,o,l){e.root={},e.rowlist=[],e.pagination={totalCount:0,totalPage:0,pageSize:10,currentPage:1,PageSizeList:[5,10,30]},e.changePageSize=function(t){e.pagination.pageSize=t,e.pagination.currentPage=1,e.queryList()},e.queryList=function(){var t={username:e.userName,userno:e.userNo,pageNo:e.pagination.currentPage,pageSize:e.pagination.pageSize};o.getAll(t).then(function(t){e.pagination.totalCount=t.totalCount,e.pagination.totalPage=t.totalPage,e.pagination.pageSize=t.pageSize,e.pagination.currentPage=t.pageNo,e.root.data=t.data},function(){})},e.queryList(),e.addUser=function(){r.open({animation:!0,templateUrl:"adduser.html",controller:"addUserModalCtrl"}).result.then(function(e){},function(t){e.queryList()})},e.delRows=function(){if(e.checked.length<0||0===e.checked.length)l.swal("至少选择一条记录，再做删除","","warning");else{var t={ids:e.checked};o.delRows(t).then(function(t){t?(e.queryList(),l.swal("操作成功","","success")):l.swal("操作失败","","error")})}},e.delRow=function(t){var n={id:t};o.delRow(n).then(function(t){t?(e.queryList(),l.swal("操作成功","","success")):l.swal("操作失败","","error")})},e.editRow=function(t){r.open({animation:!0,templateUrl:"adduser.html",controller:"updateUserModalCtrl",resolve:{id:t}}).result.then(function(e){},function(t){e.queryList()})},e.showRow=function(e){console.log("人员详情:"+e)},e.m=[],e.checked=[],e.selectOne=function(t){angular.forEach(e.m,function(t,n){var a=e.checked.indexOf(n);t&&-1===a?e.checked.push(n):t||-1===a||e.checked.splice(a,1)}),e.root.data.length===e.checked.length?e.select_all=!0:e.select_all=!1}}]),app.controller("updateUserModalCtrl",["$scope","$http","$uibModal","$uibModalInstance","userService","SweetAlert","id",function(e,t,n,a,s,r,o){e.cancel=function(){a.dismiss("cancel")},e.disabled=!0,e.title="更新人员",e.companys={"公司-1":1,"公司-2":2,"公司-3":3};var l={id:o};s.getUser(l).then(function(t){t&&null!==t?(e.username=null===t.username?"":t.username,e.userno=null===t.userno?"":t.userno,e.sex=null===t.sex?"":t.sex,e.age=null===t.age?"":t.age,e.post=null===t.post?"":t.post,e.tel=null===t.tel?"":t.tel,e.idcard=null===t.idcard?"":t.idcard,e.degrees=null===t.degrees?"":t.degrees,e.describ=null===t.describ?"":t.describ,e.address=null===t.address?"":t.address):r.swal("数据加载失败","","error",function(){e.cancel()})}),e.submitForm=function(){if(e.submit_form.$valid){var t={id:o,username:e.username,sex:e.sex,age:e.age,post:e.post,tel:e.tel,idcard:e.idcard,degrees:e.degrees,describ:e.describ,address:e.address};s.updateUser(t).then(function(t){e.result=t,r.swal("操作成功","","success")},function(){r.swal("操作失败","","error")}),e.cancel()}else r.swal("操作失败","","error")}}]);